'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _pages = require('./pages');

var writePages = _interopRequireDefault(_pages).default;

var _collections = require('./collections');

var writeCollections = _interopRequireDefault(_collections).default;

var _error = require('../utils/error');

var DrizzleError = _interopRequireDefault(_error).default;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Write pages and collection-pages to filesystem.
 *
 * @param {Object} drizzleData All drizzle data so far
 * @return {Promise} resolving to drizzleData
 */
function write(drizzleData) {
  return Promise.all([writePages(drizzleData), writeCollections(drizzleData)]).then(function () {
    return drizzleData;
  }, function (error) {
    return DrizzleError.error(error, drizzleData.options);
  });
}

exports.default = write;
module.exports = exports['default'];