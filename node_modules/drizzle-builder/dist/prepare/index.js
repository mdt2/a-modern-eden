'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _helpers = require('./helpers');

var prepareHelpers = _interopRequireDefault(_helpers).default;

var _partials = require('./partials');

var preparePartials = _interopRequireDefault(_partials).default;

var _error = require('../utils/error');

var DrizzleError = _interopRequireDefault(_error).default;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Set up templating (Handlebars).
 * Register helpers and partials (partials, layouts and patterns as partials).
 *
 * @param {Object} options
 * @return {Promise} resolves to mutated {Object} options
 */
function prepare(options) {
  return Promise.all([prepareHelpers(options), preparePartials(options)]).then(function () {
    return options;
  }, function (error) {
    return DrizzleError.error(error, options.debug);
  });
} /**
   * Prepare module.
   * @module prepare
   */
exports.default = prepare;
module.exports = exports['default'];