'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _init = require('./init');

var init = _interopRequireDefault(_init).default;

var _prepare = require('./prepare/');

var prepare = _interopRequireDefault(_prepare).default;

var _render = require('./render/');

var render = _interopRequireDefault(_render).default;

var _parse = require('./parse/');

var parse = _interopRequireDefault(_parse).default;

var _write = require('./write/');

var write = _interopRequireDefault(_write).default;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Build the drizzle! This will:
 * - Init: Parse and merge passed options with defaults
 * - Prepare templating—partials, templates, helpers
 * - Parse files—data, patterns, pages, layouts—and organize a data object
 * - Render templates, collections, pages
 * - Write rendered data to the filesystem
 *
 * @param {Object} options   User options for the build
 * @return {Promise} resolving to {Object} of all data generated and used
 */
function drizzle(options) {
  return init(options).then(prepare).then(parse).then(render).then(write);
}

exports.default = drizzle;
module.exports = exports['default'];