'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = register;
/**
 * @param {String} The path to lookup within drizzle.data
 * @returns {*} The data located at the supplied path
 * @example
 *
 *    {{#each (data "specimens.headings")}}
 *      {{this}}
 *    {{/each}}
 */

function register(options) {
  var Handlebars = options.handlebars;

  Handlebars.registerHelper('data', function (path, context) {
    var parts = path.split('.');
    var root = context.data.root.drizzle.data;
    var reducer = function reducer(prev, curr) {
      if (prev.contents) return prev.contents[curr];
      return prev[curr].contents || prev[curr];
    };
    return parts.reduce(reducer, root);
  });

  return Handlebars;
}
module.exports = exports['default'];